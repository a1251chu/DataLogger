@* monitorTypeList Template File *@
<div class="row">
<div class="col-lg-12">
	<div class="ibox">
    <div class="ibox-content">
    	<div class="table-responsive">
        	<table id="mtTable" class="table table-striped">
        		<thead>
					<tr>
						<th>測項</th>
						<th>測值</th>
						<th>單位</th>
						<th>設備</th>
						<th>狀態</th>
						<th>上次接收資料</th>						
					</tr>
				</thead>
            </table>
        </div>
    </div>
    </div>
</div>
</div>
<script>
$( document ).ready(function(){
	var local_url = '/assets/localization/zh_tw.json';
		
	var oTable = $("#mtTable").dataTable( {
		ajax: {
	        url: '/MonitorTypeStatusList',
	        dataSrc: ''
	    },
		columns: [
		          { data: 'desp' },
		          { data: 'value' },
		          { data: 'unit' },
		          { data: 'instrument' },
		          { data: 'status' },
		          { data: 'lastUpdate',
		        	defaultContent: "-"
			           }
		           
		      ],
		language: {
			url: local_url,							
		},
		rowCallback: function( row, data, index ) {
		    $(row).addClass(data.classStr);
		  },
		paging:   false,
		info: false,
		searching: false,
		responsive: true
	} );
	
	setInterval(function (){
		oTable.api().ajax.reload();
	}, 1000);
});
</script>
