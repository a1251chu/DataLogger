@* monitorTypeList Template File *@
<div class="ibox">
    <div class="ibox-content">
    	<div class="table-responsive">
        	<table id="mtTable" class="table table-striped">
        		<thead>
					<tr>
						<th>測項</th>
						<th>測值</th>
						<th>狀態</th>
					</tr>
				</thead>
            </table>
        </div>
    </div>
</div>
<script>
$( document ).ready(function(){
	var local_url = '/assets/localization/zh_tw.json';
		
	var oTable = $("#mtTable").dataTable( {
		ajax: {
	        url: '/MonitorTypeStatusList',
	        dataSrc: ''
	    },
		columns: [
		          { data: 'desp' },
		          { data: 'value' },
		          { data: 'status'}
		      ],
		language: {
			url: local_url,							
		},
		rowCallback: function( row, data, index ) {
		    $(row).addClass(data.classStr);
		  },
		paging:   false,
		searching: false,
		info: false,
		responsive: true,
	} );

	function reload(){
		oTable.api().ajax.reload();
		var timer = setTimeout(reload, 3000);
		myTimeout.push(timer);		
	};

	var timer = setTimeout(reload, 3000);
	myTimeout.push(timer);
});
</script>
